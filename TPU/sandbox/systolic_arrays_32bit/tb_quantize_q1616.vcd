$date
	Wed Jun 04 18:48:44 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module tb_quantize $end
$var wire 32 ! quantized_data_dut [31:0] $end
$var parameter 32 " ARRAY_SIZE_TB $end
$var parameter 64 # CASE_NAME_WIDTH $end
$var parameter 32 $ DATA_WIDTH_FOR_ORI $end
$var parameter 34 % INPUT_ELEMENT_WIDTH $end
$var parameter 32 & MAX_CASE_NAME_LENGTH $end
$var parameter 32 ' NUM_FRACTIONAL_BITS_IN $end
$var parameter 32 ( NUM_FRACTIONAL_BITS_OUT $end
$var parameter 32 ) NUM_INTEGER_BITS_OUT $end
$var parameter 32 * OUTPUT_DATA_WIDTH_TB $end
$var parameter 32 + Q16_16_MAX_VAL $end
$var parameter 32 , Q16_16_MIN_VAL $end
$var parameter 33 - SHIFT_AMOUNT $end
$var reg 1 . clk $end
$var reg 69 / ori_data_tb [68:0] $end
$var integer 32 0 error_count [31:0] $end
$var integer 32 1 test_case_num [31:0] $end
$scope function calculate_expected_q16_16 $end
$var reg 69 2 current_input_q37_32 [68:0] $end
$var reg 32 3 ref_final_result [31:0] $end
$var reg 32 4 ref_presat_q16_16 [31:0] $end
$var reg 1 5 ref_round_add_bit $end
$var reg 69 6 ref_rounded_value [68:0] $end
$var reg 69 7 ref_scaled_value [68:0] $end
$var reg 69 8 saturation_max_limit_wide [68:0] $end
$var reg 69 9 saturation_min_limit_wide [68:0] $end
$upscope $end
$scope function float_to_q37_32 $end
$var real 1 : val $end
$upscope $end
$scope function q16_16_to_float $end
$var reg 32 ; val_q16_16 [31:0] $end
$upscope $end
$scope module dut $end
$var wire 69 < ori_data [68:0] $end
$var parameter 32 = ARRAY_SIZE $end
$var parameter 32 > DATA_WIDTH $end
$var parameter 34 ? INPUT_ELEMENT_WIDTH $end
$var parameter 32 @ NUM_FRACTIONAL_BITS_IN $end
$var parameter 32 A NUM_FRACTIONAL_BITS_OUT $end
$var parameter 32 B NUM_INTEGER_BITS_OUT $end
$var parameter 32 C OUTPUT_DATA_WIDTH $end
$var parameter 32 D Q16_16_MAX_VAL $end
$var parameter 32 E Q16_16_MIN_VAL $end
$var parameter 33 F SHIFT_AMOUNT $end
$var parameter 32 G SRAM_DATA_WIDTH $end
$var reg 69 H current_input_element [68:0] $end
$var reg 32 I final_result_q16_16 [31:0] $end
$var reg 32 J quantized_data [31:0] $end
$var reg 32 K result_q16_16_presat [31:0] $end
$var reg 1 L round_add_bit $end
$var reg 69 M rounded_value [68:0] $end
$var reg 69 N saturation_max_limit_wide [68:0] $end
$var reg 69 O saturation_min_limit_wide [68:0] $end
$var reg 69 P scaled_value [68:0] $end
$var integer 32 Q i_element [31:0] $end
$upscope $end
$scope task run_test_case $end
$var reg 32 R actual_q16_16 [31:0] $end
$var reg 480 S case_name_str [479:0] $end
$var reg 32 T expected_q16_16 [31:0] $end
$var reg 69 U test_input_q37_32 [68:0] $end
$var integer 32 V can_print_char [31:0] $end
$var integer 32 W char_idx [31:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100000 G
b10000 F
b10000000000000000000000000000000 E
b1111111111111111111111111111111 D
b100000 C
b10000 B
b10000 A
b100000 @
b1000101 ?
b100000 >
b1 =
b10000 -
b10000000000000000000000000000000 ,
b1111111111111111111111111111111 +
b100000 *
b10000 )
b10000 (
b100000 '
b111100 &
b1000101 %
b100000 $
b111100000 #
b1 "
$end
#0
$dumpvars
bx W
bx V
bx U
bx T
bx S
bx R
b1 Q
b0 P
b111111111111111111111111111111111111110000000000000000000000000000000 O
b1111111111111111111111111111111 N
b0 M
0L
b0 K
b0 J
b0 I
b0 H
b0 <
bx ;
r0 :
bx 9
bx 8
bx 7
bx 6
x5
bx 4
bx 3
bx 2
b0 1
b0 0
b0 /
0.
b0 !
$end
#5000
1.
#10000
0.
b1 1
b1011010011001010111001001101111001000000100100101101110011100000111010101110100 S
b0 U
#11000
b10 1
b1010000011011110111001101101001011101000110100101110110011001010010000001001001011011100111010000100000001100010010111000110000 S
r1 :
b0 ;
b1011 W
b0 V
b0 T
b0 3
b111111111111111111111111111111111111110000000000000000000000000000000 9
b1111111111111111111111111111111 8
b0 4
b0 6
05
b0 7
b0 2
b0 R
#12000
b11111111111111111000000000000000 !
b11111111111111111000000000000000 J
b11111111111111111000000000000000 I
b11111111111111111000000000000000 K
b111111111111111111111111111111111111111111111111111111000000000000000 M
b111111111111111111111111111111111111111111111111111111000000000000000 P
b111111111111111111111111111111111111110000000000000000000000000000000 H
b1 Q
b111111111111111111111111111111111111110000000000000000000000000000000 /
b111111111111111111111111111111111111110000000000000000000000000000000 <
b11 1
b10100000110111101110011011010010111010001101001011101100110010100100000001100010010111000110101 S
b111111111111111111111111111111111111110000000000000000000000000000000 U
r1.5 :
b10001 W
b0 V
#13000
b0 !
b0 J
b0 I
b0 K
b0 M
b0 P
b0 H
b1 Q
b0 /
b0 <
b100 1
b100111001100101011001110110000101110100011010010111011001100101001000000100100101101110011101000010000000101101001100010010111000110000 S
b0 U
r-1 :
b11111111111111111000000000000000 ;
b1101 W
b0 V
b11111111111111111000000000000000 T
b11111111111111111000000000000000 3
b11111111111111111000000000000000 4
b111111111111111111111111111111111111111111111111111111000000000000000 6
b111111111111111111111111111111111111111111111111111111000000000000000 7
b111111111111111111111111111111111111110000000000000000000000000000000 2
b11111111111111111000000000000000 R
#14000
b11111111111111111000000000000000 !
b11111111111111111000000000000000 J
b11111111111111111000000000000000 I
b11111111111111111000000000000000 K
b111111111111111111111111111111111111111111111111111111000000000000000 M
b111111111111111111111111111111111111111111111111111111000000000000000 P
b111111111111111111111111111111111111110000000000000000000000000000000 H
b1 Q
b111111111111111111111111111111111111110000000000000000000000000000000 /
b111111111111111111111111111111111111110000000000000000000000000000000 <
b101 1
b1001110011001010110011101100001011101000110100101110110011001010010000000101101001100010010111000110101 S
b111111111111111111111111111111111111110000000000000000000000000000000 U
r-1.5 :
b0 ;
b10010 W
b0 V
b0 T
b0 3
b0 4
b0 6
b0 7
b0 2
b0 R
#15000
b1 !
b1 J
b1 I
b1 K
b1 M
1L
b0 P
b1000000000000000 H
b1 Q
b1000000000000000 /
b1000000000000000 <
b110 1
b10100100110111101110101011011100110010001101001011011100110011100100000010101010111000000100000001010000011001000101110001100000010000000101011001000000011000000101110001101010010000001001100010100110100001001011111011101000110000101110010011001110110010101110100010111110110011001110010011000010110001100101001 S
b1000000000000000 U
r2 :
b11111111111111111000000000000000 ;
b1110 W
b0 V
b11111111111111111000000000000000 T
b11111111111111111000000000000000 3
b11111111111111111000000000000000 4
b111111111111111111111111111111111111111111111111111111000000000000000 6
b111111111111111111111111111111111111111111111111111111000000000000000 7
b111111111111111111111111111111111111110000000000000000000000000000000 2
b11111111111111111000000000000000 R
1.
#16000
b0 !
b0 J
b0 I
b0 K
b0 M
0L
b100000000000000 H
b1 Q
b100000000000000 /
b100000000000000 <
b111 1
b1001110011011110010000001010010011011110111010101101110011001000110100101101110011001110010000000101000001100100010111000110000001000000010101100100000001100000010111000110010001101010010000001001100010100110100001001011111011101000110000101110010011001110110010101110100010111110110011001110010011000010110001100101001 S
b100000000000000 U
b1 ;
b101000 W
b0 V
b1 T
b1 3
b1 4
b1 6
15
b0 7
b1000000000000000 2
b1 R
#17000
b0 H
b1 Q
b0 /
b0 <
b1000 1
b101001101100001011101000111010101110010011000010111010001101001011011110110111000100000010100000110111101110011011010010111010001101001011101100110010100100000001010000100100101101110011100000111010101110100001000000011001100110010001101110011011000111000001011100011000000101001 S
b0 U
r32768 :
b0 ;
b101001 W
b0 V
b0 T
b0 3
b0 4
b0 6
05
b100000000000000 2
b0 R
#18000
b1001 1
b101001101100001011101000111010101110010011000010111010001101001011011110110111000100000010100000110111101110011011010010111010001101001011101100110010100100000001010000100100101101110011100000111010101110100001000000011010000110000001100000011000000110000001011100011000000101001 S
r40000 :
b100100 W
b0 V
b0 2
#19000
b11111111111111111111111111111111 !
b11111111111111111111111111111111 J
b11111111111111111111111111111111 I
b11111111111111111111111111111111 K
b111111111111111111111111111111111111111111111111111111111111111111111 M
b111111111111111111111111111111111111111111111111111111111111111111111 P
b111111111111111111111111111111111111111111111111111110101100000111010 H
b1 Q
b111111111111111111111111111111111111111111111111111110101100000111010 /
b111111111111111111111111111111111111111111111111111110101100000111010 <
b1010 1
b10011100110010101100001011100100010000001010011011000010111010001110101011100100110000101110100011010010110111101101110001000000101000001101111011100110110100101110100011010010111011001100101 S
b111111111111111111111111111111111111111111111111111110101100000111010 U
r32767.99999 :
b100100 W
b0 V
#20000
b11111111111111111110011001100110 !
b11111111111111111110011001100110 J
b11111111111111111110011001100110 I
b11111111111111111110011001100110 K
b111111111111111111111111111111111111111111111111111111110011001100110 M
b111111111111111111111111111111111111111111111111111111110011001100110 P
b111111111111111111111111111111111111111100110011001100110011001100111 H
b1 Q
b111111111111111111111111111111111111111100110011001100110011001100111 /
b111111111111111111111111111111111111111100110011001100110011001100111 <
b1011 1
b10100110110000101110100011101010111001001100001011101000110100101101111011011100010000001001110011001010110011101100001011101000110100101110110011001010010000000101000010010010110111001110000011101010111010000100000001011010011001100110010001101110011011000111000001011100011000100101001 S
b111111111111111111111111111111111111111100110011001100110011001100111 U
r-32768.1 :
b11111111111111111111111111111111 ;
b11001 W
b0 V
b11111111111111111111111111111111 T
b11111111111111111111111111111111 3
b11111111111111111111111111111111 4
b111111111111111111111111111111111111111111111111111111111111111111111 6
b111111111111111111111111111111111111111111111111111111111111111111111 7
b111111111111111111111111111111111111111111111111111110101100000111010 2
b11111111111111111111111111111111 R
0.
#21000
b0 !
b0 J
b0 I
b0 K
b0 M
b0 P
b0 H
b1 Q
b0 /
b0 <
b1100 1
b10100110110000101110100011101010111001001100001011101000110100101101111011011100010000001001110011001010110011101100001011101000110100101110110011001010010000000101000010010010110111001110000011101010111010000100000001011010011010000110000001100000011000000110000001011100011000000101001 S
b0 U
r-40000 :
b11111111111111111110011001100110 ;
b100101 W
b0 V
b11111111111111111110011001100110 T
b11111111111111111110011001100110 3
b11111111111111111110011001100110 4
b111111111111111111111111111111111111111111111111111111110011001100110 6
b111111111111111111111111111111111111111111111111111111110011001100110 7
b111111111111111111111111111111111111111100110011001100110011001100111 2
b11111111111111111110011001100110 R
#22000
b1101 1
b100110101101001011011100010000001010011011000010111010001110101011100100110000101110100011010010110111101101110001000000100111001100101011001110110000101110100011010010111011001100101 S
r-32768 :
b0 ;
b100101 W
b0 V
b0 T
b0 3
b0 4
b0 6
b0 7
b0 2
b0 R
#23000
b11000 W
b0 V
#25000
1.
#30000
0.
#35000
1.
#40000
0.
#45000
1.
#50000
0.
#55000
1.
#60000
0.
#65000
1.
#70000
0.
#73000
